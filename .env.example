# AsyncTasQ Environment Variables Configuration
# Copy this file to .env and customize for your environment

# ============================================================================
# CORE CONFIGURATION
# ============================================================================

# Queue Driver Selection
# Options: redis, sqs, postgres, mysql, rabbitmq
ASYNCTASQ_DRIVER=redis

# ============================================================================
# REDIS DRIVER CONFIGURATION
# ============================================================================

# Redis connection URL
ASYNCTASQ_REDIS_URL=redis://localhost:6379

# Redis password (optional)
# ASYNCTASQ_REDIS_PASSWORD=your_password

# Redis database number (0-15)
ASYNCTASQ_REDIS_DB=0

# Maximum connections in pool
ASYNCTASQ_REDIS_MAX_CONNECTIONS=100

# ============================================================================
# AWS SQS DRIVER CONFIGURATION
# ============================================================================

# AWS region
# ASYNCTASQ_SQS_REGION=us-east-1

# Queue URL prefix (optional)
# ASYNCTASQ_SQS_QUEUE_URL_PREFIX=https://sqs.us-east-1.amazonaws.com/123456789012/

# Custom endpoint URL (for LocalStack or testing)
# ASYNCTASQ_SQS_ENDPOINT_URL=http://localhost:4566

# AWS credentials (optional, uses boto3 defaults if not set)
# ASYNCTASQ_SQS_AWS_ACCESS_KEY_ID=your_access_key
# ASYNCTASQ_SQS_AWS_SECRET_ACCESS_KEY=your_secret_key

# ============================================================================
# POSTGRESQL DRIVER CONFIGURATION
# ============================================================================

# PostgreSQL connection DSN
# ASYNCTASQ_POSTGRES_DSN=postgresql://user:password@localhost:5432/dbname

# Table names
# ASYNCTASQ_POSTGRES_QUEUE_TABLE=task_queue
# ASYNCTASQ_POSTGRES_DEAD_LETTER_TABLE=dead_letter_queue

# Connection pool settings
# ASYNCTASQ_POSTGRES_MIN_POOL_SIZE=10
# ASYNCTASQ_POSTGRES_MAX_POOL_SIZE=10

# ============================================================================
# MYSQL DRIVER CONFIGURATION
# ============================================================================

# MySQL connection DSN
# ASYNCTASQ_MYSQL_DSN=mysql://user:password@localhost:3306/dbname

# Table names
# ASYNCTASQ_MYSQL_QUEUE_TABLE=task_queue
# ASYNCTASQ_MYSQL_DEAD_LETTER_TABLE=dead_letter_queue

# Connection pool settings
# ASYNCTASQ_MYSQL_MIN_POOL_SIZE=10
# ASYNCTASQ_MYSQL_MAX_POOL_SIZE=10

# ============================================================================
# RABBITMQ DRIVER CONFIGURATION
# ============================================================================

# RabbitMQ connection URL
# ASYNCTASQ_RABBITMQ_URL=amqp://guest:guest@localhost:5672/

# Exchange name
# ASYNCTASQ_RABBITMQ_EXCHANGE_NAME=asynctasq

# Prefetch count (number of messages to prefetch)
# ASYNCTASQ_RABBITMQ_PREFETCH_COUNT=1

# ============================================================================
# EVENTS AND MONITORING CONFIGURATION
# ============================================================================

# Redis URL for event emitter (optional)
# ASYNCTASQ_EVENTS_REDIS_URL=redis://localhost:6379

# Event channel name
# ASYNCTASQ_EVENTS_CHANNEL=asynctasq:events

# Enable ALL event emitters (events are disabled by default for performance)
# ASYNCTASQ_EVENTS_ENABLE_ALL=false

# Enable Redis event emitter (requires ENABLE_ALL=true)
# ASYNCTASQ_EVENTS_ENABLE_EVENT_EMITTER_REDIS=false

# ============================================================================
# TASK DEFAULTS CONFIGURATION
# ============================================================================

# Default queue name
ASYNCTASQ_TASK_DEFAULTS_QUEUE=default

# Default maximum retry attempts
ASYNCTASQ_TASK_DEFAULTS_MAX_ATTEMPTS=3

# Default retry strategy (fixed or exponential)
ASYNCTASQ_TASK_DEFAULTS_RETRY_STRATEGY=exponential

# Default retry delay in seconds
ASYNCTASQ_TASK_DEFAULTS_RETRY_DELAY=60

# ============================================================================
# PROCESS POOL CONFIGURATION (Worker Only)
# ============================================================================

# Process pool size (defaults to CPU count if not set)
# ASYNCTASQ_PROCESS_POOL_SIZE=4

# Maximum tasks per child process (unlimited if not set)
# ASYNCTASQ_PROCESS_POOL_MAX_TASKS_PER_CHILD=100

# ============================================================================
# REPOSITORY CONFIGURATION (Worker Only)
# ============================================================================

# Keep completed tasks in the queue
ASYNCTASQ_REPOSITORY_KEEP_COMPLETED_TASKS=false
